{% extends 'base.html' %}

{% block head %}

<link rel="stylesheet" href="../static/css/index.css">
<link rel="stylesheet" href="../static/css/map.css">
<style>
    body {
        /* display: none; */
        background-color: #323639;
/* 
        background-image: url("../static/img/AtlantaBackground.jpg");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed; */
    }

    .split {
        height: 100%;
        width: 50%;
        position: fixed;
        z-index: 1;
        top: 0;
        overflow-x: hidden;
        padding-top: 20px;
    
    }

    .left {
        left: 0;
    }

    .right {
        right: 0;
        transform: translate(0,800px);
        width: 40%;
        padding-right: 50px;
    }
    p.county-info {
        font: 15px "Times New Roman";
        text-align: left;
        text-indent: 35px;
    }

    p.analysis {
        font-size: 15px;
        text-align: left;
        text-indent: 35px;
    }
</style>

{% endblock %}

{% block body %}
<div class="background">
    <div class="cover-container d-flex w-100 p-3 mx-auto flex-column">
        <header class="masthead mb-auto" style="z-index: 1;">
            <div class="inner">
                <h2 class="masthead-brand" style="font-size:3vh">ATLEnvJustice</h2>
                <nav class="nav nav-masthead justify-content-center">
                    <a class="nav-link" href="/" id="homeicon"><i class='fas' style="font-size:2.5vh">&#xf015;</i></a>
                    <a class="nav-link" href="/info" id="infoicon"><i class='fas' style="font-size:2.5vh">&#xf46c;</i></a>
                    <a class="nav-link active" href="/map" id="mapicon"><i class='fas fa-globe-americas'
                            style="font-size:2.5vh"></i></a>
                    <a class="nav-link" href="/solutions" id="solicon"><i class='fas' style="font-size:2.5vh">&#xf24e;</i></a>
                    <a class="nav-link" href="/references" id="reficon"><i class='fas' style="font-size:2.5vh">&#xf022;</i></a>
                </nav>
            </div>
        </header>
    </div>
    <div id="fullPage" >
        <div class="section s1" style="padding-top:0;">
                <div class="row justify-content-center">
                    <div class="col-9">
                        <h3 style="font-weight: 100; margin-top: 0;">Interactive Map:</h3>
                        <hr style="height: 0px; width: 20%; margin-top: 0;">
                        </hr>
                        <div style="height: 80%; margin-top: 5px; margin-left: 1%; margin-right: 1%;">
                            <div id="mapid"></div>
                            <div id="toggleSelector"></div>
                        </div>
                    </div>
                    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
                        aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLongTitle">County Information: <h4 id="modal-name"
                                            style="color: rgb(24, 190, 255); padding-left: 5px;"> </h4>
                                    </h5>
                                    <button type="button" id="closebtn" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div id="county-script" class="modal-body">
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-3 justify-content-center">
                        <h4 style="font-weight: 100; margin-top: 1%;">Modes:</h4>
                        <hr style="height: 0px; width: 40%; margin-top: 0px;" />
                        <div id="panel2 justify-content-center"
                            style="height: auto;padding: 2%; align-items: center;text-align: left; margin-left: 30%; ">
                            <div class="form-check">
                                <input onclick="location.href = '/map/default'" class="form-check-input" type="radio"
                                    name="exampleRadios" id="radio1" value="option1" checked>
                                <label class="form-check-label" for="radio1">
                                    Default
                                </label>
                            </div>
                            <div class="form-check">
                                <input onclick="location.href = '/map/water'" class="form-check-input" type="radio" name="exampleRadios"
                                    id="radio2" value="option2">
                                <label class="form-check-label" for="radio2">
                                    Water Quality
                                </label>
                            </div>
                            <div class="form-check">
                                <input onclick="location.href = '/map/air'" class="form-check-input" type="radio" name="exampleRadios"
                                    id="radio3" value="option3">
                                <label class="form-check-label" for="radio3">
                                    Air Quality
                                </label>
                            </div>
                            <div class="form-check">
                                <input onclick="location.href = '/map/wealth'" class="form-check-input" type="radio"
                                    name="exampleRadios" id="radio4" value="option4">
                                <label class="form-check-label" for="radio4">
                                    Wealth
                                </label>
                            </div>
                            <div class="form-check">
                                <input onclick="location.href = '/map/race'" class="form-check-input" type="radio" name="exampleRadios"
                                    id="radio5" value="option5">
                                <label class="form-check-label" for="radio5">
                                    Race/Ethnicity
                                </label>
                            </div>
                        </div>
                        <div style="padding-top: 50vh;">
                            <p class="lead">
                                <a id="start" class="btn btn-lg blank" style="font-size: 1.75vh;">View Data Analytics</a>
                            </p>
                        </div>
                    </div>
                </div>
        </div>
        <div class="section s2" style="padding-left: 50px;">
            
            <div>
                <div style="width: 50%; height: 10%; padding-left: -10px;">
                    <button id="wealth-water" class="btn btn-sm btn-secondary">Wealth vs Water Quality</button>
                    <button id="race-water" class="btn btn-sm btn-secondary">Race vs Water Quality</button>
                    <button id="wealth-air" class="btn btn-sm btn-secondary">Wealth vs Air Quality</button>
                    <button id="race-air" class="btn btn-sm btn-secondary">Race vs Air Quality</button>
                </div>
                <!-- For the Chart Section for now -->
                <div style="width: 45%; height: 90%; padding-bottom: 25px;">
                    <canvas id="dataGraph" height="400" width="400" style="border:solid; background-color: aliceblue;"></canvas>
                </div>
                <!--script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script-->
                <script src="https://cdnjs.cloudfare.com/ajax/libs/Chart/2.8.0/Chart.min.js"></script>
                <script src="../static/js/atlantacounties.js"></script>
                <script src="../static/js/graph.js"></script>
            </div>
            

            <div class="split right";>
                <h1>Analysis</h1>
                <p class="analysis">The data presented on the map and in the chart display an interesting 
                    relationship between certain socioeconomic factors and environmentaly quality.
                    It can be seen from the data displayed in the graph that wealth is negatively
                    correlated with both th water and air quality statistics, and minority percentage is 
                    positively correlated with water and air quality statistics, which is indicated by
                    the negative and positive slopes of the corresponding regression lines respectively.
                </p>
                <p class="analysis">
                    From this, we can conclude that poorer counties(counties with lower GDP Per Captia) 
                    tend to have worse air quality and water quality then richer counties. Likewise, 
                    counties with populations that consist of a higher percentage of minorities also tend 
                    to have worse air and water quality. 
                </p>
                <p class="analysis">
                    This exposes a deep problem in Atlanta's society. Poorer people and minorites are being unfairly
                    mistreated. They have no control over the air and water quality in their areas.
                    They are not the ones realeasing carbon dioxide pollutants into the air. They are not 
                    the ones dumping contaminants into the nearby water. No, it's the richer, whiter 
                    corporations and businesses in their area doing these acts, and the poorer, less-white 
                    populations are suffering more because of it. Something must be done about this problem, and, 
                    as it turns out, something is. There are already many groups advocating for change in policy 
                    to combat these effects. Click the link below to learn more about how you can make a difference!
                </p>
                <a href="/solutions" class="btn btn-lg btn-secondary">Make a Difference!</a>
            </div>
        
                
        </div>
    </div>
    </div>
    <footer class="footer mastfoot mt-auto">
        <div class=" inner">
            <p>Created by <a href="https://github.com/MihirBafna">Mihir Bafna</a> | <a
                    href="https://github.com/brettpietruska">Brett Pietruszka</a> </p>
        </div>
    </footer>
</div>
<script>
    var mode = "{{mode}}";
    new fullpage("#fullPage", {
            autoScrolling: true,
            navigation: true,
            navigationPosition: 'left',
            navigationTooltips: ['Interactive Map', 'Graphs/Data']
        })
    $(document).on('click', '#start', function () {
        fullpage_api.moveSectionDown();
    });
</script>
<script src="../static/js/atlantacounties.js"></script>
<script src="../static/js/map.js"></script>
{% endblock %}